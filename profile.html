<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="icon" href="./images/logo.png" type="image/png">
<title>Profile | LoopKart</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">

<!-- TOP BAR -->
<header class="bg-white shadow px-6 py-4 flex items-center justify-between sticky top-0 z-10">
    <div class="flex items-center gap-3">
      <a href="dashboard.html"><img src="./images/logo.png" width="30"></a>
    </div>
    <span class="font-semibold text-lg">LoopKart</span>

  <div class="flex gap-6 text-sm font-medium">
    <a href="profile.html" class="font-medium hover:text-primary"><img src="./images/profile.png" width="30"></a>
    <a href="info.html" class="font-medium hover:text-primary"><img src="./images/information.png" width="30"></a>
  </div>
</header>

<!-- PROFILE -->
<div class="max-w-md mx-auto mt-10 bg-white rounded-xl shadow p-6">

<h2 class="text-xl font-bold mb-6">Profile</h2>

<div id="profileInfo" class="space-y-4">

  <input id="profile-name" class="field w-full px-4 py-2 border rounded-lg" placeholder="Name" />
  <input id="profile-email" class="field w-full px-4 py-2 border rounded-lg" placeholder="Email" disabled />
  <input id="profile-phone" class="field w-full px-4 py-2 border rounded-lg" placeholder="Phone" />
  <input id="profile-company" class="field w-full px-4 py-2 border rounded-lg" placeholder="Company" />
  <input id="profile-gstin" class="field w-full px-4 py-2 border rounded-lg" placeholder="GSTIN" />

  <!-- Save Changes Button -->
  <button id="saveProfileBtn" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600">
    Save Changes
  </button>

  <!-- Logout Button -->
  <button id="logoutBtn" class="w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600">
    Logout
  </button>

</div>

</div>

<style>
.field{
width:100%;
border:1px solid #ddd;
padding:10px;
border-radius:8px;
background:#f9fafb;
}
.field:disabled{
background:#f3f4f6;
}
</style>

<script>
const ids = ["name","email","phone","company","gstin"];

/* LOAD */
const data = JSON.parse(localStorage.getItem("userProfile")) || {};

ids.forEach(id=>{
  const el = document.getElementById(id);
  el.value = data[id] || "";
  el.disabled = true;
});

/* EDIT */
function enableEdit(){
  ids.forEach(id=>{
    document.getElementById(id).disabled = false;
  });
}

/* SAVE */
function saveProfile(){
  const updated = {};

  ids.forEach(id=>{
    const el = document.getElementById(id);
    updated[id] = el.value;
    el.disabled = true;
  });

  localStorage.setItem("userProfile", JSON.stringify(updated));
  localStorage.setItem("username", updated.name);

  alert("Saved âœ…");
}
</script>
<script type="module" src="script.js"></script>
</body>
</html>
